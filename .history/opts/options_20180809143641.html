<!DOCTYPE html>
<html>
<head>
<link href="css/style.css" media="all" rel="stylesheet" type="text/css">
<link href="css/icon?family=Material+Icons" rel="stylesheet">
<link href="css/materialize.min.css" rel="stylesheet">
<script src="js/jquery-3.3.1.min.js"></script>
<script src="js/materialize.min.js"></script>
<title>JobAddr Options</title>
</head>
<body>
<div class="card-panel hoverable">
<h3>JobAddr Options</h3>
<div class="divider"></div>
<div id="form" class="collection">
      
  <input id="optionsSubmit" type="submit"></a>
      <script src="js/options.js"></script>            
    </div>
</div>
<div class="divider"></div>
  <div class="section">
      <div class="card blue-grey darken-1">
        <div class="card-content white-text">
          <span class="card-title">OAuth Google Login</span>
          <p>Refresh rate (seconds): <input id="refresh_rate" value="300"></p>
        </div>
        <div class="card-action">
          <a href="#"><button id="revoke" onclick="logout();">Revoke your OAuth token</button></a>
          <a href="#"><button id="voke" onclick="login();">Login</a>
        </div>
      </div>
    </div>
    <div class="divider"></div>
    <div class="section">
      <div class="card teal darken-1">
        <div class="card-content white-text">
          <span class="card-title">Running Scripts</span>
          <div class="row">
            <div class="col s6">
                
        <p>TTS Engine: <input type="button" id="tts" value="loadDisOption('ttsOn')"></p>
          </div>
       <div class="col s6">
      <p>Job Engine: <input id="job" type="button" value="loadDisOption('jobOn')"></p>
        </div>
      </div>
      </div>
    </div>
      </div>
  <script src="js/options.js"></script>
  <script type="text/javascript">
      var bgPage = chrome.extension.getBackgroundPage();

      $('#refresh_rate').change(function() {
        localStorage.refreshRate = $(this).val();
        bgPage.refreshRate = localStorage.refreshRate;
        bgPage.pollIntervalMin =  bgPage.refreshRate * 1000;
      });
  $('#folderIdin').change(function() {
        localStorage.folderId = $(this).val();
        bgPage.folderId = localStorage.folderId;
        });
$('#sheetIdin').change(function() {
        localStorage.sheetId = $(this).val();
        bgPage.sheetId = localStorage.sheetId;
        });
$('#templateIdin').change(function() {
        localStorage.templateId = $(this).val();
        bgPage.templateId = localStorage.templateId;
        });
		
		
      function logout() {
        bgPage.logout();
        $('#revoke').get(0).disabled = true;
      }

      function initUI() {
        if (!bgPage.oauth.hasToken()) {
          $('#revoke').get(0).disabled = true;
        }

        if (localStorage.refreshRate) {
          $('#refresh_rate').val(localStorage.refreshRate);
        } else {
           $('#refresh_rate').val(bgPage.refreshRate);
        }
      }
    </script>
    </body>
</html>
